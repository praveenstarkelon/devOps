<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>EKS Cluster + Node Group - AWS Infra ‚Ä¢ Animated</title>
  <!-- Ripple Plugin CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.ripples/0.5.3/jquery.ripples.min.css" />
  <style>
    body { background: linear-gradient(120deg, #23272e 0%, #112240 60%, #49defc 100%); color: #64ffda; font-family: Arial, sans-serif; margin: 0; padding: 0; display: flex; min-height: 100vh; }
    .version-badge { position: fixed; top: 10px; left: 50%; transform: translateX(-50%); background: #16203b; color: #fff; font-weight: bold; font-size: 15px; padding: 6px 22px; border-radius: 20px; box-shadow: 0 2px 8px #0005; letter-spacing: 1px; z-index: 1000;}
    .sidebar.ripple-water {
      width: 260px; background: rgba(17,34,64,0.65); box-shadow: 0 8px 32px 0 rgba(31,38,135,0.3);
      backdrop-filter: blur(12px);-webkit-backdrop-filter: blur(12px); border-radius: 18px; border: 1px solid rgba(255,255,255,0.13);
      padding: 20px; position: fixed; top: 55px; left: 12px; height: 87vh; overflow-y: auto; transition: 0.3s; z-index: 9;
    }
    .sidebar .note { font-size: 16px;color: #ff9800;margin-bottom: 15px;display: none;text-align: center;}
    .sidebar:hover .note { display: block; }
    .sidebar h2 { font-size: 22px;margin-bottom: 15px;color: #64ffda;text-align: center;}
    .sidebar a {display: block;color:#64ffda;text-decoration: none;padding: 10px;margin: 5px 0;border-radius: 6px;font-size: 18px;}
    .sidebar a:hover {background:rgba(100,255,218,0.15);color:#ff9800;}
    .sidebar .main-topic { font-weight: bold;}
    .sidebar .subtopics { padding-left: 10px; margin-left: 8px; border-left: 2px solid #49defc; margin-bottom: 8px;}
    .sidebar .subtopics a { font-size: 16px; padding: 7px 0; margin: 0; }
    .content.ripple-water {
      margin-left: 280px; padding: 34px; max-width: 950px; background: rgba(24,45,69,0.28);
      box-shadow: 0 8px 32px 0 rgba(31,38,135,0.13); backdrop-filter: blur(7px);border-radius: 24px; border: 1px solid rgba(255,255,255,0.1);
      margin-top: 55px; z-index: 1; min-height: 89vh; position: relative;
    }
    h1 {font-size: 40px;text-shadow: 2px 4px 12px #0ff;text-align: center;margin-top: 8px;}
    h2 {margin-top: 36px; font-size: 27px; color: #ff9800;}
    pre, code {font-size: 16px;padding: 12px 15px;margin: 18px 0;line-height: 1.7; background:#10263d;color:#fff; border-radius:8px;display:block;}
    p, li {font-size: 18px;line-height: 1.6;margin: 12px 0;text-align: left;}
    ul {margin-bottom: 18px;}
    .key {background: #223b56ad; border-left: 5px solid #2786d6; padding: 18px 20px 12px 20px; border-radius: 4px; margin-bottom: 30px;}
    a.back-home {display: inline-block;margin-top: 30px;font-size: 20px;text-decoration: none;color: #49defc;padding: 10px 18px; border: 1px solid #64ffda; border-radius: 8px;transition: 0.3s;}
    a.back-home:hover {background:rgba(100,255,218,0.15);color:#ff9800;}
    #smoke-canvas {position: fixed; left:0; top:0; width: 100vw; height: 100vh; z-index: 100; pointer-events: none; opacity: 0.19; mix-blend-mode: lighten;}
    .bubbles { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 2; }
    .bubble { position: absolute; bottom: -100px; border-radius: 50%; background: rgba(170, 195, 255, 0.10); box-shadow: 0 0 30px 12px #94dafc33, 0 0 2px 2px #c7faff44; animation: bubbleUp 8s linear infinite; }
    @keyframes bubbleUp {0% {transform: translateY(0) scale(1);opacity: 0.6;}50% {opacity: 1;}100% {transform: translateY(-110vh) scale(1.4);opacity: 0;}}
    .bubble:nth-child(1) { left: 10vw; width: 65px; height: 65px; animation-delay: 0s; }
    .bubble:nth-child(2) { left: 18vw; width: 25px; height: 25px; animation-delay: 1s; }
    .bubble:nth-child(3) { left: 27vw; width: 32px; height: 32px; animation-delay: 2s; }
    .bubble:nth-child(4) { left: 35vw; width: 54px; height: 54px; animation-delay: 3s; }
    .bubble:nth-child(5) { left: 51vw; width: 41px; height: 41px; animation-delay: 4s; }
    .bubble:nth-child(6) { left: 65vw; width: 65px; height: 65px; animation-delay: 2.2s; }
    .bubble:nth-child(7) { left: 72vw; width: 27px; height: 27px; animation-delay: 3.4s; }
    .bubble:nth-child(8) { left: 82vw; width: 48px; height: 48px; animation-delay: 5.1s; }
    .bubble:nth-child(9) { left: 91vw; width: 35px; height: 35px; animation-delay: 2.8s; }
    .bubble:nth-child(10) { left: 5vw; width: 80px; height: 80px; animation-delay: 7s; }
    .bubble:nth-child(11) { left: 16vw; width: 38px; height: 38px; animation-delay: 4.9s; }
    .bubble:nth-child(12) { left: 22vw; width: 50px; height: 50px; animation-delay: 6.1s; }
    .bubble:nth-child(13) { left: 33vw; width: 42px; height: 42px; animation-delay: 2.6s; }
    .bubble:nth-child(14) { left: 44vw; width: 24px; height: 24px; animation-delay: 8s; }
    .bubble:nth-child(15) { left: 58vw; width: 52px; height: 52px; animation-delay: 1.5s; }
    .bubble:nth-child(16) { left: 67vw; width: 33px; height: 33px; animation-delay: 3.8s; }
    .bubble:nth-child(17) { left: 76vw; width: 60px; height: 60px; animation-delay: 0.9s; }
    .bubble:nth-child(18) { left: 85vw; width: 45px; height: 45px; animation-delay: 7.2s; }
    .bubble:nth-child(19) { left: 95vw; width: 39px; height: 39px; animation-delay: 8.4s; }
    .bubble:nth-child(20) { left: 50vw; width: 70px; height: 70px; animation-delay: 6.8s; }
    @media (max-width: 700px) {.sidebar { position: relative; width: 100%; height: auto; top: 65px;}.content { margin-left: 0;}.version-badge { top: 2px;}#smoke-canvas { display:none;}.bubbles { display: none; } }
  </style>
</head>
<body>
<div class="version-badge">
  v2 ‚Ä¢ EKS Infra Animated | Collapsible Sidebar
</div>
<canvas id="smoke-canvas"></canvas>
<div class="bubbles">
  <div class="bubble"></div><div class="bubble"></div><div class="bubble"></div>
  <div class="bubble"></div><div class="bubble"></div><div class="bubble"></div>
  <div class="bubble"></div><div class="bubble"></div><div class="bubble"></div>
  <div class="bubble"></div><div class="bubble"></div><div class="bubble"></div>
  <div class="bubble"></div><div class="bubble"></div><div class="bubble"></div>
  <div class="bubble"></div><div class="bubble"></div><div class="bubble"></div>
  <div class="bubble"></div><div class="bubble"></div>
</div>

<div class="sidebar ripple-water">
  <div class="note">üü† Water Ripple & Smoke ‚Ä¢ Infra Topics</div>
  <h2>Topics</h2>
  <a href="#" class="main-topic" id="eks1">1. EKS Cluster</a>
  <div class="subtopics" id="subeks1" style="display: none;">
    <a href="#cluster-structure">1.1 Cluster Structure</a>
    <a href="#cluster-code">1.2 Cluster Terraform Code</a>
    <a href="#cluster-best">1.3 Best Practices</a>
  </div>
  <a href="#" class="main-topic" id="eks2">2. Node Group</a>
  <div class="subtopics" id="subeks2" style="display: none;">
    <a href="#node-structure">2.1 Node Group Structure</a>
    <a href="#node-code">2.2 Node Group Terraform Code</a>
    <a href="#node-best">2.3 Tips</a>
  </div>
</div>

<div class="content ripple-water">
  <h1>üü¢ AWS EKS Cluster + NodeGroup Infra (Animated)</h1>
  
  <!-- EKS CLUSTER SECTION -->
  <div id="sectioneks1" style="display: none;">
    <h2 id="cluster-structure">1.1 EKS Cluster Logical Structure</h2>
    <pre>[ resource "aws_eks_cluster" "my_cluster" ]
  |
  +--> [ name = "my-cluster" ]
  |
  +--> [ role_arn = "EKS Cluster IAM Role" ]
  |         |
  |         +--> Trust: eks.amazonaws.com
  |         +--> Policy: AmazonEKSClusterPolicy (+ optional AmazonEKSServicePolicy)
  |
  +--> [ version = "1.30" ]    # K8s version
  |
  +--> [ vpc_config ]
  |         |
  |         +--> subnet_ids = ["subnet-123", "subnet-456"]
  |         +--> security_group_ids = ["sg-123"]
  |         +--> endpoint_public_access/private_access/allowed_cidrs
  |
  +--> [ tags ]</pre>

    <h2 id="cluster-code">1.2 Cluster - Sample Terraform</h2>
    <pre>resource "aws_eks_cluster" "my_cluster" {
  name     = "my-cluster"
  role_arn = aws_iam_role.eks_cluster.arn
  version  = "1.30"

  vpc_config {
    subnet_ids         = ["subnet-123", "subnet-456"]
    security_group_ids = ["sg-123"]
    endpoint_public_access  = true
    endpoint_private_access = false
    public_access_cidrs     = ["x.x.x.x/32"]
  }

  tags = {
    Environment = "dev"
    Project     = "my-eks-project"
  }
}
# IAM Role for Cluster
resource "aws_iam_role" "eks_cluster" {
  name = "eks-cluster-role"
  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Effect = "Allow"
      Principal = { Service = "eks.amazonaws.com" }
      Action = "sts:AssumeRole"
    }]
  })
}
resource "aws_iam_role_policy_attachment" "cluster_policy" {
  role       = aws_iam_role.eks_cluster.name
  policy_arn = "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy"
}
</pre>

    <h2 id="cluster-best">1.3 Best Practices</h2>
    <ul>
      <li>Cluster role ‡§∏‡•á ‡§∏‡§ø‡§∞‡•ç‡§´ cluster manage ‡§ï‡§∞‡•á‡§Ç, ‡§µ‡§π‡§æ‡§Ç production workloads ‡§®‡§æ ‡§∞‡§ñ‡•á‡§Ç</li>
      <li>VPC/subnets networking ‡§π‡§Æ‡•á‡§∂‡§æ private+public ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§§‡§∞‡§π ‡§ï‡•Ä ‡§¨‡§®‡§æ‡§è‡§Ç</li>
      <li>Policies ‡§ï‡•Ä least privilege approach follow ‡§ï‡§∞‡•á‡§Ç</li>
    </ul>
  </div>

  <!-- NODEGROUP SECTION -->
  <div id="sectioneks2" style="display: none;">
    <h2 id="node-structure">2.1 Node Group Logical Structure</h2>
    <pre>[ resource "aws_eks_node_group" "my_node_group" ]
 |
 +--> [ cluster_name = aws_eks_cluster.my_cluster.name ]
 |
 +--> [ node_role_arn = "EKS Node Group IAM Role" ]
 |         |
 |         +--> Trust: ec2.amazonaws.com
 |         +--> Policy: AmazonEKSWorkerNodePolicy, CNI, ContainerRegistryReadOnly
 |
 +--> [ subnet_ids = ["subnet-123", "subnet-456"] ]
 +--> [ scaling_config ]
 |         +--> desired_size = 2
 |         +--> min_size = 1
 |         +--> max_size = 3
 +--> [ instance_types = ["t3.medium"] ]
 +--> [ remote_access ] (optional)
 |         +--> ec2_ssh_key = "my-keypair"
 |         +--> source_security_groups = ["sg-ssh"]
 +--> [ tags ]</pre>

    <h2 id="node-code">2.2 Node Group - Sample Terraform</h2>
    <pre>resource "aws_eks_node_group" "my_node_group" {
  cluster_name    = aws_eks_cluster.my_cluster.name
  node_role_arn   = aws_iam_role.eks_node_group.arn
  subnet_ids      = ["subnet-123", "subnet-456"]

  scaling_config {
    desired_size = 2
    min_size     = 1
    max_size     = 3
  }

  instance_types = ["t3.medium"]

  remote_access {
    ec2_ssh_key               = "my-keypair"
    source_security_group_ids = ["sg-ssh"]
  }

  tags = {
    Environment = "dev"
    Project     = "my-eks-project"
  }
}
# Node Group IAM Role (as diagram)
resource "aws_iam_role" "eks_node_group" {
  name = "eks-node-group-role"
  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Effect = "Allow"
      Principal = { Service = "ec2.amazonaws.com" }
      Action = "sts:AssumeRole"
    }]
  })
}
resource "aws_iam_role_policy_attachment" "worker_node_policy" {
  role       = aws_iam_role.eks_node_group.name
  policy_arn = "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy"
}
resource "aws_iam_role_policy_attachment" "cni_policy" {
  role       = aws_iam_role.eks_node_group.name
  policy_arn = "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"
}
resource "aws_iam_role_policy_attachment" "ecr_readonly" {
  role       = aws_iam_role.eks_node_group.name
  policy_arn = "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
}
</pre>
    <h2 id="node-best">2.3 NodeGroup Tips</h2>
    <ul>
      <li>One IAM Role per node group (security best practice)</li>
      <li>Scaling config carefully set ‡§ï‡§∞‡•ã, else cost/over-provisioning </li>
      <li>Remote access open ‡§∞‡§ñ‡•ã ‡§∏‡§ø‡§∞‡•ç‡§´ dev/test ‡§Ø‡§æ emergency ‡§Æ‡•á‡§Ç</li>
    </ul>
  </div>
  <a class="back-home" href="index.html">‚¨Ö Back to Home</a>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.ripples/0.5.3/jquery.ripples.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/cryogenian/Bloodforge-Simple-Smoke@master/simple-smoke.js"></script>
<script>
  // Ripple sidebar/content par
  $(function() {
    $(".sidebar.ripple-water, .content.ripple-water").ripples({
      resolution: 512,
      dropRadius: 22,
      perturbance: 0.04,
      interactive: true
    });
  });
  // Smoke overlay
  window.onload = function() {
    var smoke = new SmokeMachine(document.getElementById('smoke-canvas'), [150,150,150]);
    smoke.start();
    setInterval(function() {
      var w = window.innerWidth;
      smoke.addSmoke(w/2, 50, 0.54);
    }, 170);
    smoke.setOpacity(0.19);
  };
  // Sidebar section toggle
  function hideAllSections() {
    ['eks1', 'eks2'].forEach(function(section, i) {
      document.getElementById('sub' + section).style.display = 'none';
      document.getElementById('section' + section).style.display = 'none';
    });
  }
  document.getElementById('eks1').onclick = function (e) {
    e.preventDefault();
    hideAllSections();
    document.getElementById('subeks1').style.display = 'block';
    document.getElementById('sectioneks1').style.display = 'block';
  };
  document.getElementById('eks2').onclick = function (e) {
    e.preventDefault();
    hideAllSections();
    document.getElementById('subeks2').style.display = 'block';
    document.getElementById('sectioneks2').style.display = 'block';
  };
</script>
</body>
</html>
